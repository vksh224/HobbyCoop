var server_url="https://murmuring-lake-4911.herokuapp.com/",myApp=angular.module("h4hApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ngAutocomplete","angularModalService","ngTagsInput"]);myApp.config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/createAccount",{templateUrl:"views/createAccount.html",controller:"CreateAccountCtrl",controllerAs:"account"}).when("/myAccount",{templateUrl:"views/myAccount.html",controller:"MyAccountCtrl",controllerAs:"myAccount"}).when("/rentAnItem",{templateUrl:"views/rentAnItem.html",controller:"RentAnItemCtrl",controllerAs:"rentAnItem"}).when("/itemDetail",{templateUrl:"views/itemDetail.html",controller:"ItemDetailCtrl"}).when("/searchResults",{templateUrl:"views/searchResults.html",controller:"SearchResultsCtrl",controllersAs:"searchResults"}).otherwise({redirectTo:"/"})}]),angular.module("h4hApp").directive("fileModel",["$parse",function(a){return{restrict:"A",link:function(b,c,d){var e=a(d.fileModel),f=e.assign;c.bind("change",function(){b.$apply(function(){f(b,c[0].files[0])})})}}}]),angular.module("h4hApp").service("fileUpload",["$http",function(a){this.uploadFileToUrl=function(b,c){var d=new FormData;d.append("file",b),a.post(c,d,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).success(function(){}).error(function(){})}}]),angular.module("h4hApp").factory("ItemService",["$http","$q",function(a,b){var c=[],d=[],e=[];return{setItems:function(c){var d=b.defer();return e=[],a({method:"GET",url:server_url+"search/"+c}).success(function(a){d.resolve(a);var b=a;angular.forEach(b,function(a){a.name.toLowerCase().indexOf(c.toLowerCase())>=0&&e.push(a)})}).error(function(a){d.reject(a)}),d.promise},getItems:function(){return c},getCategories:function(){return d},getSearchResults:function(){return e},requestReturnItem:function(c,d){var e=b.defer();console.log("Here in request return item modal "+c+"  "+d);var f={user_id:d,transaction_id:d},g=a.post(server_url+"requestReturnItem",f);return g.success(function(a,b,d,f){e.resolve(a),c=a.user_id}),g.error(function(a,b,c,d){e.reject(a)}),e.promise},confirmItemPickup:function(c,d){var e=b.defer();console.log("Here in sign In modal "+c+"  "+d);var f={user_id:d,item_request_id:d},g=a.post(server_url+"confirmItemPickup",f);return g.success(function(a,b,d,f){e.resolve(a),c=a.user_id}),g.error(function(a,b,c,d){e.reject(a)}),e.promise},confirmItemReturn:function(c,d){var e=b.defer();console.log("Here in confirm item pickup modal "+c+"  "+d);var f={return_time_id:d},g=a.post(server_url+"confirmItemReturn",f);return g.success(function(a,b,d,f){e.resolve(a),c=a.user_id}),g.error(function(a,b,c,d){e.reject(a)}),e.promise},deleteItem:function(c,d){var e=b.defer(),f={item_id:d,user_id:c},g=a["delete"](server_url+"item/"+d,f);return g.success(function(a,b,d,f){e.resolve(a),c=a.user_id}),g.error(function(a,b,c,d){e.reject(a)}),e.promise}}}]),angular.module("h4hApp").factory("UserService",["$http","$q","$location","$cookies",function(a,b,c,d){return{setUserId:function(e,f){var g=b.defer();console.log("Here in sign In modal "+e+" "+f);var h={email:e,password:f},i=a.post(server_url+"login",h);return i.success(function(a,b,e,f){g.resolve(a),d.put("userId",a.user_id),console.log("At login, the path is: "),console.log(c),c.path("/myAccount")}),i.error(function(a,b,c,d){g.reject(a)}),g.promise},getUserId:function(){var a=d.get("userId");return Number(a)},logout:function(){d.put("userId",null),c.path("#/")}}}]),myApp.controller("SearchCtrl",["$scope",function(a){a.searchWord="",a.result1="",a.options1=null,a.details1="",a.result2="",a.options2={country:"ca",types:"(cities)"},a.details2="",a.result3="",a.options3={country:"gb",types:"establishment"},a.details3=""}]),myApp.controller("HeaderCtrl",["$scope","ModalService","ItemService","$http","$location","UserService",function(a,b,c,d,e,f){a.user_id=f.getUserId(),a.$watch(function(){return f.getUserId()},function(b,c){a.user_id=f.getUserId()}),a.showCategory=function(){$("#nav_category").show()},a.closeCategory=function(){$("#nav_category").hide()},a.searchItem=function(){c.setItems(a.searchText),e.path("/searchResults")},a.searchCategory=function(a){console.log("Search category is "+a),c.setItems(a),e.path("/searchResults")},a.signInModal=function(){b.showModal({templateUrl:"modals/signInModal.html",controller:"SignInModalController"}).then(function(b){b.element.modal(),b.close.then(function(b){a.message="You said "+b})})},a.logout=f.logout,a.itemsList=["item3"],a.categoryList=[],a.autoCompleteList=[],d({method:"GET",url:server_url+"categories"}).success(function(b,c,d,e){a.categoryList=b,angular.forEach(b,function(b,c){a.autoCompleteList.push(b.name)})}).error(function(a,b,c,d){})}]),angular.module("h4hApp").controller("SuggestModalController",["$scope","$http","close","item_request_id",function(a,b,c,d){a.close=function(a){console.log(a),c(a,500)},a.suggestExchangeTimeAndLocation=function(){a.fromTime=$("#returnRequestFromDateTimepicker1 input").val(),a.toTime=$("#returnRequestToDateTimepicker1 input").val(),a.meetupAt=$("#Autocomplete").val(),console.log("Here in suggest modal "+a.fromTime+" "+a.toTime+" "+a.meetupAt+" "+d);var c={fromTime:a.fromTime,toTime:a.toTime,meetupAt:a.meetupAt,item_request_id:d},e=b.post(server_url+"suggestExchangeTimeAndLocation",c);e.success(function(b,c,d,e){a.message=b}),e.error(function(a,b,c,d){alert("failure message: "+JSON.stringify({data:a}))})},a.suggestReturnTimeAndLocation=function(){a.fromTime=$("#returnRequestFromDateTimepicker1 input").val(),a.toTime=$("#returnRequestToDateTimepicker1 input").val(),a.meetupAt=$("#Autocomplete").val(),console.log("Here in suggest return modal "+a.fromTime+" "+a.toTime+" "+a.meetupAt+" "+d);var c={fromTime:a.fromTime,toTime:a.toTime,meetupAt:a.meetupAt,tx_id:d},e=b.post(server_url+"suggestReturnTimeAndLocation",c);e.success(function(b,c,d,e){a.message=b}),e.error(function(a,b,c,d){alert("failure message: "+JSON.stringify({data:a}))})}}]),angular.module("h4hApp").controller("ConfirmModalController",["$scope","$http","close","item_request_id","user_id",function(a,b,c,d,e){a.close=function(a){c(a,500)},a.confirmExchangeTimeAndLocation=function(){a.exactTime=$("#pickDateTimePicker1 input").val(),a.meetupAt=$("#meetupAt").html(),console.log("Here in confirm modal "+a.exactTime+" "+a.meetupAt+" "+d);var c={exactTime:a.exactTime,meetupAt:a.meetupAt,item_request_id:d,user_id:e},f=b.post(server_url+"confirmExchangeTimeAndLocation",c);f.success(function(b,c,d,e){a.message=b}),f.error(function(a,b,c,d){alert("failure message: "+JSON.stringify({data:a}))})}}]),angular.module("h4hApp").controller("RentRequestModalController",["$scope","$http","close","item_id","daily_rate","rentee_id",function(a,b,c,d,e,f){a.duration=0,a.cost=0,a.close=function(a){c(a,500)},a.calculateCost=function(){a.cost="$"+a.duration*e},a.requestItem=function(){a.fromTime=$("#rentRequestFromDateTimepicker1 input").val(),console.log("Here in request Item modal, fromtime: "+a.fromTime+", itemDuration: "+a.duration+", dailyRate: $"+e+", totalCost: "+a.cost+", itemID: "+d+", renteeID: "+f);var c={start_time:a.fromTime,duration:a.duration,item_id:d,rentee_id:f};console.log(c);var g=b.post(server_url+"requestItem",c);g.success(function(b,c,d,e){a.message=b}),g.error(function(a,b,c,d){alert("failure message: "+JSON.stringify({data:a}))})}}]),angular.module("h4hApp").controller("SignInModalController",["$scope","$http","UserService","close",function(a,b,c,d){a.close=function(b){console.log(b),console.log(a.emailId+"   "+a.password),c.setUserId(a.emailId,a.password),d(b,500)}}]),angular.module("h4hApp").controller("ScheduleReturnModalController",["$scope","$http","close","item_request_id","user_id",function(a,b,c,d,e){a.close=function(a){console.log("You made it to the ScheduleReturnModalController!"),console.log(a),c(a,500)},a.scheduleReturnTimeAndLocation=function(){a.exactTime=$("#pickDateTimePicker1 input").val(),a.meetupAt=$("#meetupAt").html(),console.log("Here in confirm modal "+a.exactTime+" "+a.meetupAt+" "+d);var c={exactTime:a.exactTime,meetupAt:a.meetupAt,return_request_id:d,user_id:e},f=b.post(server_url+"scheduleReturn",c);f.success(function(b,c,d,e){a.message=b}),f.error(function(a,b,c,d){alert("failure message: "+JSON.stringify({data:a}))})}}]),angular.module("h4hApp").controller("ListItemModalController",["$scope","$http","close","item_type_id","owner_id",function(a,b,c,d,e){a.close=function(a){c(a,500)},a.listItem=function(){console.log("Daily rate set at $"+a.dailyRate);var c={item_type_id:d,user_id:e,daily_rate:a.dailyRate};console.log(c);var f=b.post(server_url+"item",c);f.success(function(b,c,d,e){a.message=b}),f.error(function(a,b,c,d){alert("failure message: "+JSON.stringify({data:a}))})}}]),angular.module("h4hApp").controller("MainCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("h4hApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("h4hApp").controller("CreateAccountCtrl",["$scope","$http","UserService",function(a,b,c){a.submit=function(d){d&&(a.user.lat=a.locationDetails.geometry.location.H,a.user.lon=a.locationDetails.geometry.location.L,b.post(server_url+"register",a.user).success(function(b,d,e,f){"Error"!==b.status?(c.setUserId(a.user.email,b.user_id),console.log("user "+b.user_id+" logged on")):a.error=!0}).error(function(){a.error=!0,console.log("error upon account creation")}))}}]),angular.module("h4hApp").controller("RentAnItemCtrl",["$scope","fileUpload",function(a,b){a.submit=function(a){},a.uploadFile=function(){var c=a.myFile;console.log("file is "),console.dir(c);var d="/fileUpload";b.uploadFileToUrl(c,d)}}]),angular.module("h4hApp").controller("MyAccountCtrl",["$scope","$http","ModalService","UserService","ItemService",function(a,b,c,d,e){a.lentObjectsList={},a.owner={dropOffItems:[],idleItems:[],rentRequestItems:[],rentedItems:[]},a.rentee={_1returnScheduledItems:[],_2pendingPickup:[],_3proposedReturnTimeItems:[],_4pendingApproval:[],_5returnRequestedItems:[],_6rentedActiveItems:[],_7rentRequests:[],_8completedTransactions:[]},a.user_id=d.getUserId(),console.log("The user is : "+a.user_id),b({method:"GET",url:server_url+"user/"+a.user_id+"/items"}).success(function(b){a.owner={},a.owner.dropOffItems=b.itemDropOffs,a.owner.idleItems=b.idleItems,a.owner.rentRequestItems=b.rentRequests,a.owner.rentedItems=b.rentedItems}).error(function(a){console.log("Something went wrong when loading owner-specific items")}),a.borrowedObjectsList=[],b({method:"GET",url:server_url+"user/"+a.user_id+"/rentee"}).success(function(b,c,d,e){a.rentee={},a.rentee._1returnScheduledItems=b.returnScheduledItems,a.rentee._2pendingPickup=b.pendingPickup,a.rentee._3proposedReturnTimeItems=b.proposedReturnTimeItems,a.rentee._4pendingApproval=b.pendingApproval,a.rentee._5returnRequestedItems=b.returnRequestedItems,a.rentee._6rentedActiveItems=b.rentedActiveItems,a.rentee._7rentRequests=b.rentRequests,a.rentee._8completedTransactions=b.completedTransactions}).error(function(a,b,c,d){console.log("Something went wrong with loading rentee data")}),a.suggestExchangeTimeAndLocation=function(b){c.showModal({templateUrl:"modals/suggestExchangeTimeAndLocation.html",controller:"SuggestModalController",inputs:{item_request_id:b}}).then(function(b){b.element.modal(),b.close.then(function(b){a.message="You said "+b})})},a.confirmExchangeTimeAndLocation=function(b){c.showModal({templateUrl:"modals/confirmExchangeTimeAndLocation.html",controller:"ConfirmModalController",inputs:{item_request_id:b,user_id:a.user_id}}).then(function(b){b.element.modal(),b.close.then(function(b){a.message="You said "+b})})},a.showReturnRequest=function(b){console.log("You pressed the Suggest Return button!"),c.showModal({templateUrl:"modals/suggestReturnTimeAndLocation.html",controller:"SuggestModalController",inputs:{item_request_id:b,user_id:a.user_id}}).then(function(b){b.element.modal(),b.close.then(function(b){a.message="You said "+b})})},a.scheduleReturnTimeAndLocation=function(b){c.showModal({templateUrl:"modals/scheduleReturnTimeAndLocation.html",controller:"ScheduleReturnModalController",inputs:{item_request_id:b,user_id:a.user_id}}).then(function(b){b.element.modal(),b.close.then(function(b){a.message="You said "+b})})},a.requestItemReturn=function(b){e.requestReturnItem(a.user_id,b)},a.confirmItemPickup=function(b){e.confirmItemPickup(a.user_id,b)},a.confirmItemReturn=function(b){e.confirmItemReturn(a.user_id,b)},a.deleteItem=function(b){e.deleteItem(a.user_id,b)}}]),angular.module("h4hApp").controller("SearchResultsCtrl",["$scope","$http","ModalService","ItemService","UserService",function(a,b,c,d,e){a.itemsList=[],a.user_id=e.getUserId(),a.$watch(function(){return d.getSearchResults()},function(b,c){a.searchResults=d.getSearchResults()}),a.requestItem=function(b,d,e){console.log("Item : "+b),c.showModal({templateUrl:"modals/requestItemModal.html",controller:"RentRequestModalController",inputs:{item_id:b,daily_rate:d,rentee_id:e}}).then(function(b){b.element.modal(),b.close.then(function(b){a.message="You said "+b})})},a.listItem=function(b,d){console.log("User is listing a new item of type: "+b),c.showModal({templateUrl:"modals/listItemModal.html",controller:"ListItemModalController",inputs:{item_type_id:b,owner_id:d}}).then(function(b){b.element.modal(),b.close.then(function(b){a.message="Item listed! "+b})})}}]),angular.module("h4hApp").controller("ItemDetailCtrl",["$scope","$routeParams",function(a,b){var c=[{image:"images/car.cf3b46cd.jpg",price:2e4,location:"St. Louis",title:"CAR 1",description:"Lorem ipsum dolor sit amet, quo inermis quaerendum ea. Ea doctus option tamquam eam. Ea platonem maluisset eos. Audire consulatu cum et. Id mel prima theophrastus reprehendunt. Ius no propriae omittantur mediocritatem."},{image:"images/car.cf3b46cd.jpg",price:8e4,location:"New Jersey",title:"CAR 2",description:"Lorem ipsum dolor sit amet, quo inermis quaerendum ea. Ea doctus option tamquam eam. Ea platonem maluisset eos. Audire consulatu cum et. Id mel prima theophrastus reprehendunt. Ius no propriae omittantur mediocritatem."}];a.item=c[b.id-1]}]);var compareTo=function(){return{require:"ngModel",scope:{otherModelValue:"=compareTo"},link:function(a,b,c,d){d.$validators.compareTo=function(b){return console.log(b===a.otherModelValue),b===a.otherModelValue},a.$watch("otherModelValue",function(){d.$validate()})}}};angular.module("h4hApp").directive("compareTo",compareTo),angular.module("ngAutocomplete",[]).directive("ngAutocomplete",["$parse",function(a){return{scope:{details:"=",ngAutocomplete:"=",options:"="},link:function(a,b,c,d){var e,f=function(){e={},a.options&&(a.options.types&&(e.types=[],e.types.push(a.options.types)),a.options.bounds&&(e.bounds=a.options.bounds),a.options.country&&(e.componentRestrictions={country:a.options.country}))};f();var g=function(){a.gPlace=new google.maps.places.Autocomplete(b[0],e),google.maps.event.addListener(a.gPlace,"place_changed",function(){a.$apply(function(){a.details=a.gPlace.getPlace(),a.ngAutocomplete=b.val()})})};g(),a.watchOptions=function(){return a.options},a.$watch(a.watchOptions,function(){f(),g(),b[0].value="",a.ngAutocomplete=b.val()},!0)}}}]),angular.module("h4hApp").directive("autoComplete",["$http",function(a){return{restrict:"A",scope:{url:"@",itemsList:"=itemsList",ngModel:"="},controller:["$scope",function(a){console.log("here "+a.itemsList)}],link:function(a,b,c){console.log("there "+a.itemsList),b.autocomplete({source:a.itemsList,select:function(b,c){a.ngModel=c.item.value,a.$apply()},minLength:1})}}}]),angular.module("h4hApp").run(["$templateCache",function(a){"use strict";a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/createAccount.html",'<!-- TODO: use angular validation --> <h3 ng-show="error">Error during account creation</h3> <form name="registrationForm" ng-submit="submit(registrationForm.$valid)"> <div class="form-group"> <label>First Name <input ng-model="user.firstName" ng-model-options="{ updateOn: \'blur\' }" type="text" class="form-control" placeholder="First Name" required> </label> </div> <div class="form-group"> <label>Last Name <input ng-model="user.lastName" ng-model-options="{ updateOn: \'blur\' }" type="text" class="form-control" placeholder="Last Name" required> </label> </div> <div class="form-group"> <label>Email <input ng-model="user.email" ng-model-options="{ updateOn: \'blur\' }" type="email" class="form-control" placeholder="Email" required> </label> </div> <div class="form-group"> <label>Location <input type="text" id="Autocomplete" class="form-control" ng-autocomplete details="locationDetails" options="options1"> </label> </div> <div class="form-group"> <label>Password <input ng-model="user.password" ng-model-options="{ updateOn: \'blur\' }" type="password" class="form-control" placeholder="Password" required> </label> </div> <div class="form-group"> <label>Password Verification <input name="confirmPassword" ng-model="confirmPassword" ng-model-options="{ updateOn: \'blur\' }" type="password" class="form-control" placeholder="Re-enter password" compare-to="user.password" required> </label> </div> <!-- TODO: REPLACE this with ng-message --> <p ng-show="registrationForm.confirmPassword.$error.compareTo">Passwords must match</p> <input type="submit" value="Create Account"> </form>'),a.put("views/itemDetail.html",'<!-- TODO: needs more style --> <h2>{{item.title}}</h2> <img src="{{item.image}}" class="col-sm-3"> <p>{{item.description}}</p> <p>Location: {{item.location}}</p> <p>Price: {{item.price}}</p>'),a.put("views/main.html",'<div class="jumbotron"> <h1>Hobby Cooperative!</h1> <p class="lead"> <!-- <img src="images/logo.jpg" alt="I\'m Yeoman"><br> --> Share your things! Experience new hobbies! <div class="container"> <image ng-src="images/hobbycooplogo.f79ccd89.png" class=".pagination-centered" width="400" alt="Hobby.COOP"></image> </div> </p></div> <div class="row marketing"> <h4>Rent Your Tools &amp; Equipment</h4> <p> At Hobby Cooperative, our goal is to facilitate the sharing of tools and equipment across a community in an attempt to assist those in temporary need of such equipment, as well as provide new hobbyists with gainful experience dealing with professional equipment. No longer must we spend great sums of money. Why not borrow from your neighbor? </p> </div>'),a.put("views/myAccount.html",'<!-- TODO: use angular validation --> <ul class="list-group"> <li class="list-group-item active"> <h4 class="list-group-item-heading"> Owner\'s Panel </h4> </li> <li class="list-group-item list-group-item-danger" ng-show="owner.dropOffItems.items.length"> <h4 class="list-group-item list-group-item-info"> {{owner.dropOffItems.description}} </h4> <div class="list-group"> <div class="list-group-item" ng-repeat="item in owner.dropOffItems.items"> <div class="row"> <image ng-src="{{item.pic}}" class="col-sm-3 myAccount-image"> <ul class="row col-sm-6 list-unstyled"> <li> <a href="#/itemDetail?id={{item.id}}" class="list-group-item-heading"> <h4>{{item.name}}</h4> </a> </li> <li> <p class="list-group-item-text"> Meet <b>{{item.rentee.username}}</b> on <b>{{item.meetupAt.time}}</b> at <b>{{item.meetupAt.location}}</b> </p> </li> </ul> <!--<span class="pull-right col-sm-3">\n                     <button class="btn btn-default btn-info"\n                             ng-click="#">\n                       Contact Us\n                     </button>\n                   </span>--> </image></div> </div> </div> </li> <li class="list-group-item list-group-item-success" ng-show="owner.rentRequestItems.items.length"> <h4 class="list-group-item list-group-item-info"> {{owner.rentRequestItems.description}} </h4> <div class="list-group"> <div class="list-group-item" ng-repeat="item in owner.rentRequestItems.items"> <div class="row"> <image ng-src="{{item.pic}}" class="col-sm-3 myAccount-image"> <ul class="row col-sm-6 list-unstyled"> <li> <a href="#/itemDetail?id={{item.id}}" class="list-group-item-heading"> <h4>{{item.name}}</h4> </a> </li> <li> <p class="list-group-item-text"> <b>${{item.cost}}</b> for <b>{{item.duration}} days</b> requested by <b>{{item.rentee.username}}</b> </p> <p class="list-group-item-text" ng-show="item.suggestedMeetup"> <i>Pending meetup schedule at <b>{{item.suggestedMeetup.location}}</b> between <b>{{item.suggestedMeetup.from}}</b> and <b>{{item.suggestedMeetup.to}}</b> </i> </p> </li> </ul> <span class="pull-right col-sm-3"> <button class="btn btn-default btn-info" ng-click="suggestExchangeTimeAndLocation({{item.id}})" ng-show="item.suggestedMeetup==null"> Suggest Exchange <br>Time &amp; Location </button> </span> </image></div> </div> </div> </li> <li class="list-group-item list-group-item-success" ng-show="owner.rentedItems.items.length"> <h4 class="list-group-item list-group-item-info"> {{owner.rentedItems.description}} </h4> <div class="list-group"> <div class="list-group-item" ng-repeat="item in owner.rentedItems.items"> <div class="row"> <image ng-src="{{item.pic}}" class="col-sm-3 myAccount-image"> <ul class="row col-sm-6 list-unstyled"> <li> <a href="#" class="list-group-item-heading"> <h4>{{item.name}}</h4> </a> </li> <li> <p ng-show="item.returnRequested==false && item.meetupAt.return==false" class="list-group-item-text"> In use by <b>{{item.rentee.username}}</b> </p> <p ng-show="item.returnRequested==true && item.meetupAt.return==false" class="list-group-item-text"> <b>{{item.rentee.username}}</b> has requested a return </p> <p ng-show="item.meetupAt.return" class="list-group-item-text"> Meet <b>{{item.rentee.username}}</b> on <b>{{item.meetupAt.time}}</b> at <b>{{item.meetupAt.location}}</b> </p> <p ng-show="item.suggestedReturn" class="list-group-item-text"> Pending meetup schedule at <b>{{item.suggestedReturn.location}}</b> between <b>{{item.suggestedReturn.from}}</b> and <b>{{item.suggestedReturn.to}}</b> </p> <p> Return due on <b>{{item.dueDate}}</b> </p> </li> </ul> <span ng-show="item.returnRequested==true && item.meetupAt.return==false && item.suggestedReturn==null" class="pull-right col-sm-3"> <button class="btn btn-default btn-info" ng-click="showReturnRequest({{item.id}})"> Suggest Exchange <br>Time &amp; Location </button> </span> <span class="pull-right col-sm-3" ng-show="item.meetupAt.return"> <button class="btn btn-default btn-info" ng-click="confirmItemReturn({{item.meetupAt.id}})"> Confirm Return </button> </span> </image></div> </div> </div> </li> <li class="list-group-item list-group-item-success" ng-show="owner.idleItems.items.length"> <h4 class="list-group-item list-group-item-info" ng-show="owner.idleItems.description.indexOf(&quot;Idle&quot;)!=-1"> {{owner.idleItems.description}} </h4> <div class="list-group"> <div class="list-group-item" ng-repeat="item in owner.idleItems.items"> <div class="row"> <image ng-src="{{item.pic}}" class="col-sm-3 myAccount-image"> <ul class="row col-sm-6 list-unstyled"> <li> <a href="#" class="list-group-item-heading"> <h4>{{item.name}}</h4> </a> </li> <li> <p class="list-group-item-text"> Daily rate set at <b>${{item.daily_rate}}.00</b> per day </p> </li> </ul> <span class="pull-right col-sm-3"> <!--<button class="btn btn-default btn-info"\n                       ng-click="alert(\'Try deleting and relisting for the time being.\');">\n                 Edit\n               </button>--> <button class="pull-right btn btn-default btn-warning" ng-click="deleteItem({{item.id}})"> <span class="glyphicon glyphicon-trash"></span> </button> </span> </image></div> </div> </div> </li> </ul> <ul class="list-group"> <li class="list-group-item active"> <h4 class="list-group-item-heading"> Rentee\'s Panel </h4> </li> <li class="list-group-item list-group-item-success" ng-show="renteeObj.items.length" ng-repeat="renteeObj in rentee"> <h4 class="list-group-item list-group-item-info"> {{renteeObj.description}} </h4> <div class="list-group"> <div class="list-group-item" ng-repeat="item in renteeObj.items"> <div class="row"> <image ng-src="{{item.pic}}" class="col-sm-3 myAccount-image"> <ul class="row col-sm-6 list-unstyled"> <li><a href="#" class="list-group-item-heading"> <h4>{{item.name}}</h4> </a></li> <li> <p class="list-group-item-text" ng-show="item.time_of_request"> <small><i>Request initiated on {{item.time_of_request}}</i></small> </p> <p class="list-group-item-text" ng-show="item.dueDate"> Due date: <b>{{item.dueDate}}</b> </p> <p class="list-group-item-text" ng-show="item.meetupAt && !item.meetupAt.length && item.pickup"> Pick up at <b>{{item.meetupAt.location}}</b> on <b>{{item.meetupAt.time}}</b> </p> <p class="list-group-item-text" ng-show="item.meetupAt && !item.meetupAt.length && item.dropoff"> Return on <b>{{item.meetupAt.time}}</b> at <b>{{item.meetupAt.location}}</b> </p> <p class="list-group-item-text"> Owner: <b>{{item.owner}}</b> </p> <p class="list-group-item-text" ng-show="item.duration"> Rent duration: <b>{{item.duration}} days</b> </p><p class="list-group-item-text" ng-show="item.cost"> Cost: <b>${{item.cost}}.00</b> </p> </li> </ul> <span class="pull-right col-sm-3"> <button class="btn btn-default btn-info" ng-show="renteeObj.fieldType.indexOf(&quot;pendingApproval&quot;)!=-1" ng-click="confirmExchangeTimeAndLocation({{item.id}})"> Schedule Pickup </button> </span> <span class="pull-right col-sm-3"> <button class="btn btn-default btn-info" ng-show="renteeObj.fieldType.indexOf(&quot;pendingPickup&quot;)!=-1" ng-click="confirmItemPickup({{item.id}})"> Confirm Picked Up </button> </span> <span class="pull-right col-sm-3"> <button class="btn btn-default btn-info" ng-show="renteeObj.fieldType.indexOf(&quot;rentedActiveItems&quot;)!=-1" ng-click="requestItemReturn({{item.id}})"> Request Return </button> </span> <span class="pull-right col-sm-3"> <button class="btn btn-default btn-info" ng-show="renteeObj.fieldType.indexOf(&quot;proposedReturnTimeItems&quot;)!=-1" ng-click="scheduleReturnTimeAndLocation({{item.id}})"> Schedule Return </button> </span> </image></div> </div> </div> </li> </ul>'),a.put("views/rentAnItem.html",'<!-- TODO: use angular validation --> <form name="registrationForm" ng-submit="submit(registrationForm.$valid)"> <div class="form-group"> <label>Item Title <input ng-model="item.title" ng-model-options="{ updateOn: \'blur\' }" type="text" class="form-control" placeholder="Item Title" required> </label> </div> <div class="form-group"> <label>Item Rent Price per Hour <input ng-model="item.Price" ng-model-options="{ updateOn: \'blur\' }" type="text" class="form-control" placeholder="Item Rent Price" required> </label> </div> <div class="form-group"> <label>Item Details (Optional) <textarea ng-model="item.details" ng-model-options="{ updateOn: \'blur\' }" class="form-control" placeholder="Details" required> </textarea> </label> </div> <div class="form-group"> <label>Upload Item Photo <input type="file" file-model="myFile"> <button ng-click="uploadFile()">upload me</button> </label> </div> <label>Rent An Item <input type="submit"> </label> </form>'),a.put("views/searchResults.html",'<!-- TODO: use angular validation --> <ul class="list-group" ng-repeat="category in searchResults"> <li class="list-group-item active"> <h4 class="list-group-item-heading"> {{category.name}} </h4> </li> <li class="list-group-item list-group-item-success text-center" ng-show="user_id!=-1"> Do you own this item? <button class="btn btn-default btn-info" ng-click="listItem({{category.id}}, {{user_id}})"> List it! </button> </li> <li class="list-group-item list-group-item-info"> <div class="list-group"> <div class="list-group-item" ng-repeat="item in category.items"> <div class="row"> <image ng-src="{{item.image_url}}" class="col-sm-3 searchResult-image"></image> <ul class="row col-sm-6 list-unstyled"> <li> <a href="#" class="list-group-item-heading"> <h4>{{item.name}}</h4> </a> </li> <li> <p class="list-group-item-text"> ${{item.daily_rate}} per day from <b>{{item.owner.username}}</b> (located in {{item.owner.location}}) </p> </li> </ul> <span class="pull-right col-sm-2"> <button class="btn btn-default btn-info" ng-click="requestItem({{item.id}}, {{item.daily_rate}}, {{user_id}})"> Request </button> </span> </div> </div> <span ng-show="!searchResults.length"> No Items Available for Rent! </span> </div> </li> </ul>')}]);